---
import css from "./AnimesView.module.css";
import Layout from "@layouts/Layout/Layout.astro";
import { ANIMES } from "./config";
import AnimesIsland from "./AnimesIsland/AnimesIsland";
---

<Layout title={ANIMES.display}>
  <main class={css.animes}>
    <h1 id="animes_title">{" "}🔍️</h1>
    <AnimesIsland client:only="react" />
  </main>
</Layout>

<script>
  import { search_animes_store } from "@react/components/shared/SearchAnimesIsland/SearchAnimes/search_animes_store";
  import { capitalize_first } from "@utils/capitalize_first";
  import { dom } from "@utils/dom/dom";

  document.addEventListener("astro:page-load", () => {
    const title = search_animes_store.store.get().title;
    const animes_title = dom.select("animes_title") as HTMLElement;
    animes_title.textContent = capitalize_first(title) + "🔍️";
  });
</script>
